{
  "program": "secureswitch.p4",
  "language": "p4-16",
  "targets": {
	"multiswitch": {
		"cli": true,
		"links": [
			["s1", "s2"],
			["h1", "s1"],
			["h2", "s2"]
		],
		"switches": {
			"s1": {
				"commands": [
					"table_add ipv4_lpm ipv4_forward 10.0.0.2/32 => 00:aa:00:02:00:02 1",
					"table_add ipv4_lpm ipv4_forward 10.0.0.1/32 => 00:04:00:00:01:01 2"
				]
			},
			"s2": {
				"commands": [
					"table_add ipv4_lpm ipv4_forward 10.0.0.1/32 => 00:aa:00:01:00:01 1",
					"table_add ipv4_lpm ipv4_forward 10.0.0.2/32 => 00:04:00:00:02:01 2"
				]
			}
		},
		"hosts": {
			"h1": {},
			"h2": {}
		}
	}
  }
}